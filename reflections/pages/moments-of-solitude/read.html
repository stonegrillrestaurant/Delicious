<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Moments of Solitude — Read</title>
  <meta name="description" content="A quiet invitation to stillness and presence.">
  <link rel="icon" href="/reflections/assets/favicon.ico">
  <style>
    :root{
      --bg:#0e0e0f; --paper:#141415; --ink:#f1f1f1; --muted:#aaa; --accent:#ffb020; --rule:#252526;
      --maxw: 860px; --fs: 18px; --lh: 1.8; --radius:16px;
    }
    @media (prefers-color-scheme: light){
      :root{ --bg:#fff4ea; --paper:#fffaf0; --ink:#5a2a27; --muted:#7b514d; --accent:#d93404; --rule:#e4c7b7; }
    }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%}
    body{font-family: Georgia, ui-serif, serif; background:var(--bg); color:var(--ink); font-size:var(--fs); line-height:var(--lh)}
    header{
      position: sticky; top:0; z-index:10; background:linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,.15));
      backdrop-filter: blur(6px); border-bottom:1px solid var(--rule);
    }
    .wrap{max-width:var(--maxw); margin:0 auto; padding:12px 16px; display:flex; align-items:center; justify-content:space-between; gap:10px}
    .back{color:var(--accent); text-decoration:none; font-weight:700}
    .dl{border:1px solid var(--rule); border-radius:10px; padding:6px 10px; color:var(--ink); text-decoration:none}
    main{padding: 18px 16px 60px}
    article{
      max-width:var(--maxw); margin:0 auto; background:var(--paper); border:1px solid var(--rule);
      border-radius:var(--radius); padding:26px 22px; box-shadow:0 10px 30px rgba(0,0,0,.25)
    }
    h1{margin:0 0 6px; font-size:clamp(24px,5vw,38px)}
    .meta{color:var(--muted); margin-bottom:16px}
    h2{margin:20px 0 8px}
    p{margin:10px 0}
    blockquote{margin:14px 0; padding:12px 16px; border-left:4px solid var(--accent); background:rgba(255,176,32,.08); border-radius:10px}
    .divider{ text-align:center; color:var(--muted); margin: 18px 0}
    .divider span{padding:0 10px}
    .small{font-size:14px; color:var(--muted)}
    footer{max-width:var(--maxw); margin:0 auto; padding:18px 16px; color:var(--muted)}
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <a class="back" href="/reflections/index.html">← Back to Reflections</a>
      <a class="dl" href="./moments-of-solitude.pdf" download>Download PDF</a>
    </div>
  </header>

  <main>
    <article>
      <h1>Moments of Solitude — How Silence Teaches</h1>
      <p class="meta">By Ninox Antolihao • First Edition 2025</p>

      <p><em>To the seekers who still believe there is more. To the ones who carry silence like prayer, and light like memory. May this remind you that every breath is a conversation with eternity.</em></p>

      <div class="divider"><span>— ❖ —</span></div>

      <h2>I. The Door That Doesn’t Knock</h2>
      <p>Solitude rarely announces itself. It doesn’t send an invitation or clear your calendar. It arrives in the spaces between errands, in the pause after a hard sentence, in the quiet that follows celebration. If you walk past it, nothing seems lost. If you step inside, the room keeps expanding.</p>
      <p>In solitude, the world returns your name without a title. No roles to perform, no expectations to juggle. Just the original you—still, ordinary, awake. You begin to notice that attention is a kind of love. Where it rests, life grows.</p>

      <h2>II. The Weight of Noise</h2>
      <p>Noise is not only sound. It is the constant tug to be elsewhere: the comparison, the urgency, the glitter that ages badly. Noise makes the present feel insufficient, and that is how we become strangers to our own breath.</p>
      <p>Silence is not the absence of sound; it is the reordering of value. In silence, ordinary things regain their dignity—the kettle, the chair, the hand on the table. You see how many meanings were borrowed, and how many you can return.</p>

      <blockquote>“When we stop rushing, time remembers its true size.”</blockquote>

      <h2>III. Learning the Pace of Enough</h2>
      <p>We chase completion as if life were a checklist. Yet every arrival simply teaches a better kind of beginning. Solitude does not make you smaller; it gives the soul room to stretch. It replaces ambition’s fever with craft’s devotion.</p>
      <p>There is a pace that belongs to you. Not the slow of fear nor the speed of panic—the honest cadence where attention and action keep each other company. When you walk at that pace, decisions become simpler: does this deepen my life or only decorate it?</p>

      <h2>IV. The Work of Gentle Courage</h2>
      <p>Solitude asks for courage, but not the kind that shouts. The brave thing is to tell the truth: this hurts; this matters; this no longer fits. In quiet, the truth stops threatening you. It becomes a tool you can hold without bleeding.</p>
      <p>Then the smallest acts become decisive—closing a tab and opening a window, putting the phone down and picking the book up, saying no with a blessing. You honor what you love by the attention you are willing to give it.</p>

      <h2>V. Returning With Light</h2>
      <p>Do not stay hidden forever. Solitude is not an island to own; it is a shore to visit until your feet remember how to stand. You go there to hold your life to the light and then you bring that light back—to your people, your projects, your street.</p>
      <p>When you return, you carry a quieter strength. Not certainty, but steadiness. Not answers, but good questions. And the day, which was crowded a moment ago, becomes spacious enough for gratitude.</p>

      <div class="divider"><span>— ❖ —</span></div>

      <h2>How to Practice (Three Simple Routines)</h2>
      <ul>
        <li><strong>Five breaths, three times a day.</strong> Stop. Feel the air arrive and leave. Begin again.</li>
        <li><strong>One undistracted hour a week.</strong> No screens. Walk, read, write, or simply sit.</li>
        <li><strong>Name what is enough.</strong> Write one sentence that defines “enough” for today. Let it guide your choices.</li>
      </ul>

      <p class="small">If you forget, start small. Solitude will meet you wherever you’re honest.</p>

      <div class="divider"><span>— ❖ —</span></div>

      <h2>About the Author</h2>
      <p>Ninox Antolihao writes and builds from the Philippines. He explores how attention, language, and devotion shape the way we live—one quiet choice at a time.</p>

      <p class="small">© First Edition 2025 · Stone Grill • All rights reserved</p>
    </article>
  </main>

  <footer>
    <div class="wrap" style="display:block; text-align:center;">
      <a class="back" href="/reflections/index.html" style="color:var(--accent); text-decoration:none; font-weight:700">← Back to Reflections</a>
    </div>
  </footer>
  <!-- ===== Floating TTS Reader (drop-in) ===== -->
<style>
  /* Floating button */
  #ttsFab{
    position:fixed; right:18px; bottom:18px; z-index:9999;
    width:52px; height:52px; border-radius:50%;
    display:flex; align-items:center; justify-content:center;
    background:var(--accent, #ff6a3d); color:#000; border:none; cursor:pointer;
    box-shadow:0 10px 28px rgba(0,0,0,.35); font-weight:700;
  }
  #ttsFab:active{ transform:translateY(1px); }

  /* Panel */
  #ttsPanel{
    position:fixed; right:18px; bottom:84px; z-index:9999;
    width:320px; max-width:90vw;
    background:var(--paper, #29211e); color:var(--ink, #f3e6dd);
    border:1px solid #3a2f2b; border-radius:14px; overflow:hidden;
    box-shadow:0 12px 36px rgba(0,0,0,.4);
    display:none;
  }
  #ttsHead{
    display:flex; align-items:center; justify-content:space-between;
    padding:10px 12px; background:linear-gradient(180deg,#2e2522,#231b18);
    border-bottom:1px solid #3a2f2b;
  }
  #ttsHead strong{ font-size:14px; letter-spacing:.3px; }
  #ttsClose{ background:none; border:none; color:inherit; font-size:18px; cursor:pointer; }

  #ttsBody{ padding:12px; display:grid; gap:10px; }
  #ttsControls{ display:flex; gap:8px; flex-wrap:wrap; }
  #ttsControls button{
    flex:1 1 auto; min-width:78px;
    padding:8px 10px; border-radius:10px; border:1px solid #4a3b35; background:#2d231f;
    color:inherit; cursor:pointer;
  }
  #ttsControls button:disabled{ opacity:.5; cursor:not-allowed; }
  #ttsRow{ display:grid; grid-template-columns:1fr 110px; gap:8px; }
  #ttsBody select, #ttsBody input[type="range"]{
    width:100%; background:#211a17; color:inherit; border:1px solid #4a3b35; border-radius:8px; padding:8px;
  }
  #ttsNote{
    font-size:12px; color:var(--muted,#c9b0a4); line-height:1.4;
    border-top:1px dashed #3a2f2b; padding-top:8px;
  }

  /* Sentence highlight */
  .tts-current{
    background:rgba(255,106,61,.22);
    box-shadow:0 0 0 2px rgba(255,106,61,.15) inset;
    border-radius:6px;
    transition:background .2s ease;
  }
</style>

<button id="ttsFab" aria-label="Listen">▶︎</button>

<div id="ttsPanel" role="dialog" aria-label="Text to Speech Reader">
  <div id="ttsHead">
    <strong>Reader — ❖ —</strong>
    <button id="ttsClose" aria-label="Close">×</button>
  </div>
  <div id="ttsBody">
    <div id="ttsRow">
      <select id="ttsVoice" aria-label="Voice"></select>
      <label style="display:flex;align-items:center;gap:8px;">
        <span style="font-size:12px;opacity:.85;white-space:nowrap;">Speed</span>
        <input id="ttsRate" type="range" min="0.7" max="1.4" step="0.05" value="1" />
      </label>
    </div>

    <div id="ttsControls">
      <button id="ttsPlay">Play</button>
      <button id="ttsPause" disabled>Pause</button>
      <button id="ttsStop" disabled>Stop</button>
      <button id="ttsPrev" disabled>◀︎ Prev</button>
      <button id="ttsNext" disabled>Next ▶︎</button>
    </div>

    <div style="display:flex;gap:8px;">
      <button id="ttsReadSel" style="flex:1;">Read Selection</button>
      <button id="ttsReadAll" style="flex:1;">Read All</button>
    </div>

    <div id="ttsNote">
      Tip: On iPhone/iPad, tap <em>Play</em> once to unlock audio (Safari requires a user gesture).
      The reader highlights each sentence as it speaks.
    </div>
  </div>
</div>

<script>
(function(){
  const area = document.querySelector('#readContent') || document.querySelector('main') || document.body;
  const synth = window.speechSynthesis;
  const supportsTTS = !!synth;

  const el = {
    fab: document.getElementById('ttsFab'),
    panel: document.getElementById('ttsPanel'),
    close: document.getElementById('ttsClose'),
    voice: document.getElementById('ttsVoice'),
    rate: document.getElementById('ttsRate'),
    play: document.getElementById('ttsPlay'),
    pause: document.getElementById('ttsPause'),
    stop: document.getElementById('ttsStop'),
    prev: document.getElementById('ttsPrev'),
    next: document.getElementById('ttsNext'),
    readSel: document.getElementById('ttsReadSel'),
    readAll: document.getElementById('ttsReadAll'),
  };

  if(!supportsTTS){
    el.fab.style.display='none';
    console.warn('Speech Synthesis not supported in this browser.');
    return;
  }

  // State
  let voices = [];
  let chunks = [];       // [{el:span, text:string}]
  let idx = -1;
  let speaking = false;
  let paused = false;
  let currentSelOnly = false;

  // ---- UI wiring
  el.fab.onclick = ()=> { el.panel.style.display = (el.panel.style.display==='block'?'none':'block'); };
  el.close.onclick = ()=> { el.panel.style.display='none'; };

  el.play.onclick = startOrResume;
  el.pause.onclick = pauseSpeech;
  el.stop.onclick = stopSpeech;
  el.prev.onclick = ()=> jump(-1);
  el.next.onclick = ()=> jump(+1);
  el.readSel.onclick = ()=> begin(true);
  el.readAll.onclick = ()=> begin(false);

  el.rate.oninput = ()=>{
    localStorage.setItem('ttsRate', el.rate.value);
    if(speaking && !paused){
      // rate applies to next utterance
    }
  };
  el.voice.onchange = ()=>{
    localStorage.setItem('ttsVoiceName', el.voice.value);
    // applies on next utterance
  };

  // Persisted settings
  const savedRate = localStorage.getItem('ttsRate');
  if(savedRate) el.rate.value = savedRate;

  // ---- Voice loading
  function loadVoices(){
    voices = synth.getVoices().sort((a,b)=> (a.lang||'').localeCompare(b.lang||'') || (a.name||'').localeCompare(b.name||''));
    el.voice.innerHTML = '';
    voices.forEach(v=>{
      const opt = document.createElement('option');
      opt.value = v.name;
      opt.textContent = `${v.name} — ${v.lang}`;
      el.voice.appendChild(opt);
    });
    // pick saved voice or a sensible default (en-PH or en-* or first)
    const saved = localStorage.getItem('ttsVoiceName');
    let def = voices.find(v=>v.name===saved)
           || voices.find(v=>/^en-PH/i.test(v.lang))
           || voices.find(v=>/^en-/i.test(v.lang))
           || voices[0];
    if(def){ el.voice.value = def.name; }
  }
  loadVoices();
  // some browsers fire this later
  if (typeof speechSynthesis !== 'undefined') {
    speechSynthesis.onvoiceschanged = loadVoices;
  }

  // ---- Prepare content into sentence spans
  function splitToSentences(root){
    // Clear previous wrapping
    root.querySelectorAll('span[data-tts]').forEach(s=>{
      const t = document.createTextNode(s.textContent);
      s.replaceWith(t);
    });

    const walker = document.createTreeWalker(root, NodeFilter.SHOW_TEXT, {
      acceptNode(node){
        const t = (node.nodeValue||'').replace(/\s+/g,' ');
        return t.trim() ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_REJECT;
      }
    });

    const nodes = [];
    while(walker.nextNode()) nodes.push(walker.currentNode);

    const sentenceEnd = /([^\s].*?[\.!\?…]+)(\s+|$)/g; // simple sentence chunker

    nodes.forEach(node=>{
      const text = node.nodeValue.replace(/\s+/g,' ');
      let lastIndex = 0;
      const frag = document.createDocumentFragment();
      let match;

      while ((match = sentenceEnd.exec(text)) !== null) {
        const before = text.slice(lastIndex, match.index);
        if(before.trim()){
          frag.appendChild(spanFor(before));
        }
        frag.appendChild(spanFor(match[1]));
        lastIndex = sentenceEnd.lastIndex;
      }
      const tail = text.slice(lastIndex);
      if(tail.trim()){
        frag.appendChild(spanFor(tail));
      }
      node.parentNode.replaceChild(frag, node);
    });

    function spanFor(t){
      const s = document.createElement('span');
      s.textContent = t.trim() + ' ';
      s.setAttribute('data-tts','1');
      return s;
    }
  }

  function harvestChunks(scope){
    chunks = Array.from(scope.querySelectorAll('span[data-tts]')).map(s=>({el:s, text:s.textContent.trim()}))
                   .filter(o=>o.text && o.text.length>0);
  }

  // ---- Reading flows
  function begin(selectionOnly){
    currentSelOnly = !!selectionOnly;
    const scope = selectionOnly && window.getSelection && !window.getSelection().isCollapsed
      ? rangeContainer(window.getSelection())
      : area;

    splitToSentences(scope);
    harvestChunks(scope);

    if(chunks.length===0){
      alert('No readable text found.');
      return;
    }
    idx = 0;
    speakCurrent();
    updateButtons();
  }

  function startOrResume(){
    if(!speaking){
      // if nothing queued, treat as "read selection" if user has one, else read all
      const hasSel = window.getSelection && !window.getSelection().isCollapsed;
      begin(hasSel);
      return;
    }
    if(paused){
      synth.resume();
      paused = false;
      updateButtons();
    }
  }

  function pauseSpeech(){
    if(speaking && !paused){
      synth.pause();
      paused = true;
      updateButtons();
    }
  }

  function stopSpeech(){
    synth.cancel();
    clearHighlight();
    speaking = false;
    paused = false;
    idx = -1;
    updateButtons();
  }

  function jump(delta){
    if(!speaking) return;
    synth.cancel();
    clearHighlight();
    idx = Math.max(0, Math.min(chunks.length-1, idx + delta));
    speakCurrent();
  }

  function speakCurrent(){
    if(idx<0 || idx>=chunks.length) { stopSpeech(); return; }

    const rate = parseFloat(el.rate.value || '1') || 1;
    const voice = voices.find(v=>v.name===el.voice.value) || null;

    const {el:node, text} = chunks[idx];
    clearHighlight();
    node.classList.add('tts-current');
    node.scrollIntoView({block:'center', behavior:'smooth'});

    const utt = new SpeechSynthesisUtterance(text);
    if(voice) utt.voice = voice;
    utt.rate = rate;

    utt.onend = ()=>{
      node.classList.remove('tts-current');
      idx++;
      if(idx < chunks.length){
        // slight gap to avoid overlap on some browsers
        setTimeout(speakCurrent, 60);
      }else{
        stopSpeech();
      }
    };
    utt.onerror = (e)=> {
      console.warn('TTS error:', e);
      stopSpeech();
    };

    speaking = true;
    paused = false;
    updateButtons();
    synth.speak(utt);
  }

  function clearHighlight(){
    document.querySelectorAll('.tts-current').forEach(n=> n.classList.remove('tts-current'));
  }

  function updateButtons(){
    el.play.disabled = speaking && !paused;   // playing -> disable Play
    el.pause.disabled = !speaking || paused;
    el.stop.disabled = !speaking;
    el.prev.disabled = !(speaking && idx>0);
    el.next.disabled = !(speaking && idx<chunks.length-1);
  }

  // Utility: get a Node that contains current selection (or area as fallback)
  function rangeContainer(sel){
    try{
      const range = sel.getRangeAt(0).cloneRange();
      // Create a wrapper around the selection to isolate splitting
      const wrapper = document.createElement('span');
      wrapper.setAttribute('data-tts-scope','1');
      range.surroundContents(wrapper);
      // Expand wrapper to parent block if selection is within one
      return wrapper;
    }catch(e){
      return area;
    }
  }

})();
</script>
<!-- ===== /Floating TTS Reader ===== -->
</body>
</html>
